<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<title>NBA 2018/19 Season Leaders</title>
<link rel="stylesheet" href="/css/style.css" type="text/css">
<body>
<h1>NBA 2018/19 Regular Season Leaders</h1>	
<script src="https://d3js.org/d3.v3.js"></script>
<script type='text/javascript' src='/js/ppg.js'></script>
<div class="chartArea"></div>
<script>
populateTablePPG("Points Per Game")
var margin = {top: 5, right: 5, bottom: 5, left: 5}
var width = 1300 - margin.left - margin.right, height = 50 - margin.top - margin.bottom	
var svg1 = d3.select("body").select(".chartArea").append("svg")
      	.attr("width", width + margin.left + margin.right)
      	.attr("height", height + margin.top + margin.bottom)      
	.attr("transform", "translate(" + margin.left + "," + margin.top + ")")	
  	.append("g")
  	.attr("class","dropdown");
var select = svg1.append("g")
  		.attr("class","select");

var buttonNames = ["button 1", "button 2", "button 3", "button 4"];
	
select.append("rect")
  	.attr("x", 10)
	.attr("y",  10 )
	.attr("width", l)
	.attr("height", 30);

select.append("text")
	.attr("x", 15)
	.attr("y",30 )
  	.attr("id","mydropdown")
	.text( buttonNames[0]);
  
var options = svg.selectAll(".myBars")
	.data(buttonNames)
	.enter()
	.append("g");
	
options.attr("class", "option").on("click", function() { document.getElementById("mydropdown").innerHTML=this.getElementsByTagName("text")[0].innerHTML;
  d3.event.stopPropagation();
});
options.append("rect").attr("x", 10)
	.attr("y", function(d,i){ return 40 + i*30})
	.attr("width", l)
	.attr("height", 30);

 options.append("text").attr("x", function(d){ return 15})
	.attr("y", function(d,i){ return 60 + i*30})
	.text(function(d){ return d});
	
var margin = {top: 10, right: 10, bottom: 10, left: 10}
var width = 1300 - margin.left - margin.right, height = 800 - margin.top - margin.bottom	
var svg2 = d3.select("body").select(".chartArea").append("svg")
      .attr("width", width + margin.left + margin.right)
      .attr("height", height + margin.top + margin.bottom)      
      .append("g")
      .attr("transform", "translate(" + margin.left + "," + margin.top + ")")
var svgtext = svg2.append("text")
       .attr("x",(width/2))
       .attr("y",(margin.top*2))
    	.style("text-anchor","middle")
    	.style("font-size","24px")
    	.style("fill","#FFFFFF")    	
    	.style("font-weight","bold")
    	.text("Select Player Name to display Stats")   
var displayPlayer = function(playerName){
var margin = {top: 10, right: 10, bottom: 10, left: 10}
var width = 1300 - margin.left - margin.right, height = 800 - margin.top - margin.bottom	
svg2.selectAll("*").remove();
d3.json('Roster.json',function (data) { 
var filteredData =  data.players.filter(function(d) {if( d.name == playerName) {return d};});  
var svgName = svg2.selectAll("text").data([0])
 svgName.enter()
	.append("text")
        .attr("x",(width/2))
        .attr("y",(margin.top*2))
    	.style("text-anchor","middle")
    	.style("font-size","24px")
    	.style("fill","#FFFFFF")    	
    	.style("font-weight","bold")
    	.text(playerName) 
svgName.exit()
	.remove()
var svgimage =svg2.selectAll("image").data([0])
svgimage.enter()
	.append("svg:image")
	.attr("x",290)
    	.attr("y",(margin.top+20))
    	.attr("width", 200)
	.attr("height", 250)    	      		
    	.attr("xlink:href", filteredData[0]["imgURL"]) 
svgimage.exit()
	.remove()
var svgWt = svg2.selectAll("text").data([0])
 svgWt.enter()
	.append("text")
        .attr("x",(width/2))
        .attr("y",280)
    	.style("text-anchor","middle")
    	.style("font-size","24px")
    	.style("fill","#FFFFFF")    	
    	.style("font-weight","bold")
    	.text(playerName) 
svgWt.exit()
	.remove()
 
});
}	 
//d3.select(self.frameElement).style("height", "800px").style("width", "10800px");	
</script>
</body>
</html>
